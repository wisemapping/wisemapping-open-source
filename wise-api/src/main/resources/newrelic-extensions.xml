<?xml version="1.0" encoding="UTF-8"?>
<extension xmlns="https://newrelic.com/docs/java/xsd/v1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="https://newrelic.com/docs/java/xsd/v1.0 extension.xsd">
    <instrumentation>
        <!-- Instrument REST Controllers - Spring MVC should auto-instrument, but this adds method-level visibility -->
        <pointcut name="REST Controllers">
            <className>com.wisemapping.rest.MindmapController</className>
            <method>
                <name>*</name>
                <parameters>*</parameters>
            </method>
        </pointcut>
        
        <pointcut name="REST Controllers - User">
            <className>com.wisemapping.rest.UserController</className>
            <method>
                <name>*</name>
                <parameters>*</parameters>
            </method>
        </pointcut>
        
        <pointcut name="REST Controllers - Account">
            <className>com.wisemapping.rest.AccountController</className>
            <method>
                <name>*</name>
                <parameters>*</parameters>
            </method>
        </pointcut>
        
        <pointcut name="REST Controllers - Label">
            <className>com.wisemapping.rest.LabelController</className>
            <method>
                <name>*</name>
                <parameters>*</parameters>
            </method>
        </pointcut>
        
        <!-- Instrument Service Layer -->
        <pointcut name="Service Layer - Mindmap">
            <className>com.wisemapping.service.MindmapService</className>
            <method>
                <name>*</name>
                <parameters>*</parameters>
            </method>
        </pointcut>
        
        <pointcut name="Service Layer - User">
            <className>com.wisemapping.service.UserService</className>
            <method>
                <name>*</name>
                <parameters>*</parameters>
            </method>
        </pointcut>
        
        <pointcut name="Service Layer - Label">
            <className>com.wisemapping.service.LabelService</className>
            <method>
                <name>*</name>
                <parameters>*</parameters>
            </method>
        </pointcut>
    </instrumentation>
</extension>

